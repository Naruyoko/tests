<title>Flip flop character sheet generator</title>
<h1>Flip flop character sheet generator</h1>
<select id="A" onchange="go()">
  <option>AND</option>
  <option>OR</option>
  <option>XOR</option>
  <option>NAND</option>
  <option>NOR</option>
  <option>XNOR</option>
</select>
<select id="B" onchange="go()">
  <option>AND</option>
  <option>OR</option>
  <option>XOR</option>
  <option>NAND</option>
  <option>NOR</option>
  <option>XNOR</option>
</select>
<table id="table1" style="left;border:1px black solid;">
  <tr>
    <th>A</th>
    <th>B</th>
    <th>Q(t)</th>
    <th>¬Q(t)</th>
    <th>Q(t+1)</th>
    <th>¬Q(t+1)</th>
  </tr>
  <tr>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>0</td>
    <td>0</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td></td>
    <td></td>
  </tr>
</table>
<table id="table2" style="border:1px black solid">
  <tr>
    <th>A</th>
    <th>B</th>
    <th>Q(t+1)</th>
  </tr>
  <tr>
    <td>0</td>
    <td>0</td>
    <td></td>
  </tr>
  <tr>
    <td>0</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>0</td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>1</td>
    <td></td>
  </tr>
</table>
<img ref="./diagram.png" style="top:0px;right:0px;">
<script>
  function go(){
    for (var x=1;x<=8;x++){
      var results=[[Number(document.getElementById("table1").rows[x][2].innerHTML),Number(document.getElementById("table1").rows[x][3].innerHTML)]];
      for (var i=1;i<=4;i++){
        if (document.getElementById("A").value="AND"){
          results[i]=[Number(Number(document.getElementById("table1").rows[x][0].innerHTML)&&results[i][1]),Number(Number(document.getElementById("table1").rows[x][1].innerHTML)&&results[i][0])];
        }
        if (document.getElementById("A").value="OR"){
          results[i]=[Number(Number(document.getElementById("table1").rows[x][0].innerHTML)||results[i][1]),Number(Number(document.getElementById("table1").rows[x][1].innerHTML)||results[i][0])];
        }
        if (document.getElementById("A").value="XOR"){
          results[i]=[Number((Number(document.getElementById("table1").rows[x][0].innerHTML)&&!results[i][1])||(!Number(document.getElementById("table1").rows[x][0].innerHTML)&&!results[i][1])),Number((Number(document.getElementById("table1").rows[x][1].innerHTML)&&!results[i][0])||(!Number(document.getElementById("table1").rows[x][1].innerHTML)&&results[i][0]))];
        }
        if (document.getElementById("A").value="NAND"){
          results[i]=[Number(!(Number(document.getElementById("table1").rows[x][0].innerHTML)&&results[i][1])),Number(!(Number(document.getElementById("table1").rows[x][1].innerHTML)&&results[i][0]))];
        }
        if (document.getElementById("A").value="NOR"){
          results[i]=[Number(!(Number(document.getElementById("table1").rows[x][0].innerHTML)||results[i][1])),Number(!(Number(document.getElementById("table1").rows[x][1].innerHTML)||results[i][0]))];
        }
        if (document.getElementById("A").value="XNOR"){
          results[i]=[Number((Number(document.getElementById("table1").rows[x][0].innerHTML)&&results[i][1])||(Number(!document.getElementById("table1").rows[x][0].innerHTML)&&!results[i][1])),Number((Number(document.getElementById("table1").rows[x][1].innerHTML)&&!results[i][0])||(!Number(document.getElementById("table1").rows[x][1].innerHTML)&&!results[i][0]))];
        }
      }
      var r;
      for (var i=0;i<4;i++){
        if ((results[i][0]==results[i+1][0])&&(results[i][1]==results[i+1][1])){
          r=[results[i][0],results[i][1]];
          break;
        }
      }
      if (r==undefined){
        document.getElementById("table1").rows[x][4].innerHTML="undf";
        document.getElementById("table1").rows[x][5].innerHTML="undf";
      }else{
        document.getElementById("table1").rows[x][4].innerHTML=r[0];
        document.getElementById("table1").rows[x][5].innerHTML=r[1];
      }
      if (x%2=0){
        if ((Number(document.getElementById("table1").rows[x-1][4].innerHTML)==r[0])&&(Number(document.getElementById("table1").rows[x-1][5].innerHTML)==r[1])&&(r[0]!=r[1])){
          document.getElementById("table2").rows[x/2][2].innerHTML=r[0];
        }else{
          document.getElementById("table2").rows[x/2][2].innerHTML="undef";
        }
      }
    }
  }
  go();
</script>
