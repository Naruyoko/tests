<script type="text/javascript" src="expMath.js"></script>
<script>
  function calc(){
    var ope=document.input.operations.selectedIndex;
    var var1=[parseFloat(document.input.vara.value),false];
    var var2=[parseFloat(document.input.varb.value),false];
    if (document.getElementById("deca").checked){var1=exp.conv(var1[0]);}
    if (document.getElementById("decb").checked){var2=exp.conv(var2[0]);}
    if (document.getElementById("nega").checked){var1[1]=!var1[1];}
    if (document.getElementById("negb").checked){var2[1]=!var2[1];}
    var out;
    if (isFinite(var1[0])&&(isFinite(var2[0])||ope==17)){
      var expr=["exp.add(var1,var2)","exp.sub(var1,var2)","exp.mult(var1,var2)","exp.div(var1,var2)","exp.pow(var1,var2)","exp.sqrt(var1)","exp.cbrt(var1)","exp.root(var1,var2)","exp.log(var1,var2)","exp.fact(var1)","exp.sfac(var1)","exp.asfc(var1)","exp.hfac(var1)","exp.tetr(var1,var2)","exp.slog(var1,var2)","exp.conv(var1)","exp.text(var1,varb)",]
      out=eval(expr[ope])
    }else{
      out="Inputs must be number if not outputing as text"
    }
    document.getElementById("output").textContent=out;
    if (outsci&&!(ope==17)){document.getElementById("scioutput").textContent=exp.text(Number(out),"*10^");}
  }
  function change(){
    if (document.input.operations.selectedIndex==6){
      document.getElementById("instruction").textContent="input text to insert in the middle";
    }else{
      document.getElementById("instruction").textContent=" ";
    }
  }
  var outsci=false;
  function togglesci(){
    outsci = !outsci;
    if (outsci){
      document.input.toggle.value= "Output with equivalent number ON";
    }else{
      document.input.toggle.value= "Output with equivalent number OFF";
    }
  }
  function del1(){
    document.getElementById("nega").checked=false;
    document.getElementById("deca").checked=false;
  }
  function del2(){
    document.getElementById("negb").checked=false;
    document.getElementById("decb").checked=false;
  }
</script>
<form name="input">
  a：<input type="text" name="vara" value="">
  Is negative: <input type="radio" id="nega" name="stylea" value="neg">
  Is decimal: <input type="radio" id="deca" name="stylea" value="dec">
  <input type="button" value="Neither" onclick="del1()"><br>
  b：<input type="text" name="varb" value="">
  Is negative: <input type="radio" id="negb" name="styleb" value="neg">
  Is decimal: <input type="radio" id="decb" name="styleb" value="dec">
  <input type="button" value="Neither" onclick="del2()">
  <div id="instruction"></div><br>
  <input type="button" name="toggle" value="Output with equivalent number OFF" onclick="togglesci()"><br>
  <select name="operations" onchange="change()">
    <option>a+b</option>
    <option>a-b</option>
    <option>a*b</option>
    <option>a/b</option>
    <option>a^b</option>
    <option>√a</option>
    <option><sup>3</sup>√a</pbtion>
    <option><sup>b</sup>√a</option>
    <option>log a</option>
    <option>log<sub>b</sub> a</option>
    <option>a!</option>
    <option>sf(a) Neil Sloane and Simon Plouffe's superfactorial</option>
    <option>a$ Clifford Pickover's superfactorial</option>
    <option>hs(a) hyperfactorial</option>
    <option>a^^b</option>
    <option>slog<sub>b</sub> a</option>
    <option>convert to the custom format</option>
    <option>output as text</option>
  <input type="button" value="->" onclick="calc()"><br>
</form>
<span id="output"></span><br>
<span id="scioutput"></span>
